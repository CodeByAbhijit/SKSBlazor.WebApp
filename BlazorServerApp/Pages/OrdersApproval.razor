@page "/orders/approval"
@inherits OrdersApprovalBase

<h3>Add Stock to Inventory</h3>

<div class="card">
  <div class="card-body">
    <div class="mb-3">
      <button class="btn btn-success me-2" @onclick="ApproveSelected" disabled="@IsProcessing">Approve</button>
      <button class="btn btn-info me-2" @onclick="ShowInfo">Info</button>
      <button class="btn btn-secondary" @onclick="Close">Close</button>
    </div>

    <table class="table table-striped table-responsive">
      <thead>
        <tr>
          <th scope="col"><input type="checkbox" @onclick="ToggleSelectAll" aria-label="Select all" /></th>
          <th scope="col">Order Id</th>
          <th scope="col">Date</th>
          <th scope="col">Amount</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var o in Orders)
        {
            <tr>
              <td><input type="checkbox" @bind="@o.Selected" /></td>
              <td>@o.Id</td>
              <td>@o.Date.ToShortDateString()</td>
              <td>@o.Amount.ToString("C")</td>
              <td>@o.Status</td>
            </tr>
        }
      </tbody>
    </table>

    <div class="mt-3" aria-live="polite">
      @if (!string.IsNullOrEmpty(Message))
      {
          <div class="alert @MessageCss">@Message</div>
      }
    </div>
  </div>
</div>